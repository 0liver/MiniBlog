@{    
    string theme = ConfigurationManager.AppSettings.Get("blog:theme");
    string name = ConfigurationManager.AppSettings.Get("blog:name");
    bool showPostList = string.IsNullOrEmpty(Request.QueryString["slug"]);
    
    Layout = "/themes/" + theme + "/_layout.cshtml";
}

@if (showPostList)
{
    Page.Title = name;
    @RenderPage("/themes/" + theme + "/PostList.cshtml")
}
else
{
    Post post = Blog.GetPosts(1).ElementAt(0);
    Page.Title = post.Title;
     
    @RenderPage("/themes/" + theme + "/Post.cshtml", post)
}